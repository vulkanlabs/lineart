services:
  dagster:
    build: 
      context: .
      dockerfile: images/dagster.Dockerfile
      args:
        PYTHON_VERSION: "3.12"
        DAGSTER_HOME: /opt/dagster_home
        DAGSTER_PORT: 3000
        VULKAN_HOME: /opt/vulkan_home
        VULKAN_PORT: 3001
    ports:
      - "3000:3000"
      - "3001:3001"
    env_file:
      - ".env"
  app:
    build:
      context: .
      dockerfile: images/app.Dockerfile
      args:
        PYTHON_VERSION: "3.12"
    env_file:
      - ".env"
    ports:
      - "6000:6000"
  echo:
    image: kennethreitz/httpbin
    ports:
      - "5001:80"
    env_file:
      - ".env"
